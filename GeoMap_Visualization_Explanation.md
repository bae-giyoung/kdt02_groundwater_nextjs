# GeoMap 시각화 설명 스크립트

## 1. 개요: GeoMap 대시보드 소개

(슬라이드 시작)

"안녕하십니까, 지금부터 저희 프로젝트의 핵심 시각화 기능 중 하나인 'GeoMap 대시보드'에 대해 설명해 드리겠습니다."

"GeoMap 대시보드는 전국의 지하수 관측소 데이터를 지도 위에 직관적으로 시각화하여, 사용자가 현재 지하수 상태와 미래 변동 가능성을 한눈에 파악할 수 있도록 설계되었습니다. 이 대시보드는 크게 두 가지 핵심적인 뷰를 제공합니다: **'지하수위 현황'**과 **'민감도 분석'**입니다. 이제 각 뷰가 어떤 정보를 어떻게 보여주는지 자세히 살펴보겠습니다."

---

## 2. '지하수위 현황' 시각화 상세 설명

(슬라이드: '지하수위 현황' 맵 화면)

"첫 번째 뷰는 **'지하수위 현황'**입니다. 이 지도는 '현재' 각 관측소의 지하수 상태가 어떤지를 보여주는 데 목적이 있습니다."

"지도 위에는 여러 개의 버블이 표시되는데, 이 버블의 **색상**과 **크기**가 핵심 정보를 담고 있습니다."

### 2.1. 버블 색상: 위험도 상태

"먼저 **버블의 색상**은 해당 관측소의 수위가 얼마나 '안정적인' 상태인지를 나타냅니다. 저희는 각 관측소의 과거 10년 치 동월 데이터를 기반으로 정상, 경고, 위험의 세 단계로 상태를 구분했습니다."

*   "**녹색(정상)**: 현재 수위가 과거 평균 범위(25~75% 구간) 내에 있어 매우 안정적인 상태임을 의미합니다."
*   "**주황색(경고)**: 수위가 정상 범위를 벗어나, 과거 데이터의 10~25% 또는 75~90% 구간에 진입한 상태입니다. 주의가 필요하다는 신호입니다."
*   "**붉은색(위험)**: 수위가 하위 10% 미만이거나 상위 90%를 초과한 상태로, 가뭄 또는 홍수와 연관될 수 있는 잠재적 위험 상태임을 나타냅니다."

### 2.2. 버블 크기: 상대적 수위량

"다음으로 **버블의 크기**는 '상대적인 수위량'을 의미합니다. 기존에는 단순히 해발고도를 기준으로 한 절대 수위를 보여주어, 지형이 높은 곳의 수위가 무조건 높게 보이는 왜곡이 있었습니다."

"저희는 이 문제를 해결하기 위해, **각 관측소의 동월 평년 수위(정상 범위의 중간값) 대비 현재 수위가 얼마나 높거나 낮은지**를 계산하여 버블 크기에 반영했습니다. 즉, 버블의 크기는 지형과 무관하게 '실제 물이 얼마나 차 있는가'를 상대적으로 보여줍니다."

*   "**버블이 클수록**: 그 지역의 지하수가 평소보다 풍부하다는 것을 의미합니다."
*   "**버블이 작을수록**: 평소보다 수위가 낮아져 물이 부족한 상태임을 직관적으로 알 수 있습니다."

"이를 통해 사용자는 어느 지역의 지하수가 풍부하고 어느 지역이 부족한지를 한눈에 비교하며 파악할 수 있습니다."

### 2.3. 버블 크기 계산 공식 (상세)

문서화를 위해 버블 크기를 계산하는 정확한 공식을 첨부합니다.

#### 변수 정의

*   $i$ : 개별 지하수 관측소
*   $V_i$ : 관측소 $i$의 현재 지하수위 (`value`)
*   $P_{25,i}$ : 관측소 $i$의 과거 10년 동월(同月) 데이터 기준 25백분위수
*   $P_{75,i}$ : 관측소 $i$의 과거 10년 동월(同月) 데이터 기준 75백분위수
*   $M_i$ : 관측소 $i$의 동월 평년 수위 (정상 범위의 중간값)
*   $R_i$ : 관측소 $i$의 상대 수위
*   $R_{min}$ : 모든 관측소의 상대 수위($R_i$) 중 최소값
*   $R_{max}$ : 모든 관측소의 상대 수위($R_i$) 중 최대값
*   $Z_i$ : 관측소 $i$의 최종 버블 크기 값 (1~100)

#### 계산 절차

1.  **동월 평년 수위($M_i$) 계산**
    $$ M_i = \frac{P_{25,i} + P_{75,i}}{2} $$

2.  **상대 수위($R_i$) 계산**
    $$ R_i = V_i - M_i $$

3.  **상대 수위의 최소/최대값($R_{min}, R_{max}$) 결정**
    $$ R_{min} = \min(R_1, R_2, ..., R_n) $$
    $$ R_{max} = \max(R_1, R_2, ..., R_n) $$

4.  **최종 버블 크기($Z_i$) 정규화**
    $$ Z_i = \begin{cases} 1 + \left( \frac{R_i - R_{min}}{R_{max} - R_{min}} \right) \times 99 & \text{if } R_{max} > R_{min} \\ 50 & \text{if } R_{max} = R_{min} \end{cases} $$

---

## 3. '민감도 분석' 시각화 상세 설명

(슬라이드: '민감도 분석' 맵 화면)

"두 번째 뷰는 AI 모델을 통해 분석한 **'민감도 분석'**입니다. 이 지도는 기상 변화, 즉 가뭄이나 강우 같은 외부 요인에 각 관측소의 지하수위가 얼마나 민감하게 반응하는지를 보여줍니다."

"여기서도 버블의 **색상**과 **크기**가 중요한 의미를 가집니다."

### 3.1. 버블 색상: 민감도 유형

"**버블의 색상**은 AI 모델이 분석한 세 가지 민감도 유형을 나타냅니다."

*   "**파란색(강수형)**: 비가 올 때 수위가 빠르게 상승하고, 가뭄에는 상대적으로 천천히 하강하는 타입입니다. 주로 물이 빠르게 채워지는 '함양'이 빠른 지역 특성을 보입니다."
*   "**붉은색(가뭄형)**: 가뭄이 지속될 때 수위가 빠르게 낮아지고, 비가 와도 더디게 회복하는 타입입니다. 주변 지역의 물 사용량이 많아 '취수'가 빠른 지역일 가능성이 높습니다."
*   "**주황색(복합형)**: 강수와 가뭄 모두에 유사한 수준으로 반응하는 중간 유형입니다."

"이 정보는 특정 지역이 가뭄에 얼마나 취약한지, 또는 집중호우 시 수위가 얼마나 급변할 수 있는지를 예측하는 데 중요한 단서가 됩니다."

### 3.2. 버블 크기: 변동성의 크기

"민감도 맵에서 **버블의 크기**는 '변동성의 크기', 즉 민감도를 정량적으로 나타냅니다. AI 모델이 계산한 '예상 변동폭(range_variation)' 값을 기준으로 합니다."

*   "**버블이 클수록**: 외부 요인(강우/가뭄)에 따라 수위가 매우 크게 변동하는, 즉 민감도가 높은 관측소임을 의미합니다."
*   "**버블이 작을수록**: 수위 변동이 크지 않아 외부 영향에 비교적 둔감한 안정적인 관측소임을 의미합니다."

"따라서 사용자는 버블이 큰 '가뭄형' 관측소를 보며 '이 지역은 가뭄이 발생하면 지하수 고갈 위험이 매우 크겠구나'라고 예측할 수 있습니다."

---

## 4. 결론

"결론적으로, GeoMap 대시보드는 복잡한 지하수 데이터를 **'현재 상태'**와 **'미래 변동성'**이라는 두 가지 관점에서 명확하게 시각화합니다."

*   "**'지하수위 현황'** 맵은 직관적인 색상과 상대적인 크기를 통해 지금 당장 어디에 물이 많고 적은지를 알려주고,"
*   "**'민감도 분석'** 맵은 AI 분석을 기반으로 각 지역이 미래의 기상 변화에 어떻게 반응할지를 예측하게 해줍니다."

"이 두 가지 시각화 정보를 통해 사용자는 종합적인 지하수 자원 관리와 효율적인 의사결정을 내릴 수 있습니다. 이상으로 GeoMap 대시보드에 대한 설명을 마치겠습니다. 감사합니다."
