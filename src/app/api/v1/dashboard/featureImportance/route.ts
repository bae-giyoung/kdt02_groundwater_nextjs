import { NextRequest, NextResponse } from "next/server";
import path from "path";
import fs from "fs/promises";
import Papa from "papaparse";

// 타입
interface FeatureImportanceUnitT {
    feature: string;
    importance: number
}

// POST: csv를 json파일로 만들기 위한 임시 endpoint
export async function POST(
    request: NextRequest
) {
    try{

      const csvFilePath = path.join(process.cwd(), `src/data/feature_importances_12.csv`);
      const jsonFilePath = path.join(process.cwd(), `src/data/feature_importances_12.json`);
      const csvData = await fs.readFile(csvFilePath, "utf-8");
      const jsonData = await Papa.parse(csvData, {header: true, dynamicTyping: true});
      await fs.writeFile(jsonFilePath, JSON.stringify(jsonData.data));
      console.log(csvData);
      console.log(jsonData);
      
      console.log("실행됨: ");
      return NextResponse.json({stateCode: 200, message: "OK"});
    } catch(error) {
      console.error(error);
      return NextResponse.json({stateCode: 500, message: "Internal Server Error"});
    }
}


// GET
export async function GET(
    request: NextRequest
) {
  try {
    const jsonFilePath = path.join(process.cwd(), "src/data/feature_importances_all.json");
    const jsonData = await fs.readFile(jsonFilePath, "utf-8");

    // 데이터 가공: 파이차트용
    const parsedJsondata = JSON.parse(jsonData); // Record<"stationCode", [{"feature": "name", "importance": 0.05}, .....]>
    const parsedJsonDataKeys = Object.keys(parsedJsondata);
    
    const transformedData = {} as Record<string, FeatureImportanceUnitT[]>; // FeatureImportanceUnitT[] 로 타입 명확하게 지정해야 하는데 일단은 이걸로!!!!!!!
    parsedJsonDataKeys.map((stationCode: string) => {
      // 여기서 1 Depth 더 줄일 수 있다!!!!! 타입에러도 잡고 => 나중에!!!!!!
      const FeatureImportancesArray = Object.entries(parsedJsondata[stationCode]); //["0", [{"feature": "name", "importance": 0.05}, ...]] // 바껴서
      const FeaturesFinal = FeatureImportancesArray.map((entrie: [string, FeatureImportanceUnitT])=> {
        return [entrie[1].feature, Number(entrie[1].importance)];
      });
      transformedData[stationCode] = FeaturesFinal;
    });
    
    // 이전 관측소 1개만 있었을 때 코드 : [d.feature, Number(d.importance)]
    
    const resp = {
      stateCode: 200,
      message: "OK",
      data: transformedData,
    };

    console.log("========================= 특성 중요도 확인용 ========================");
    //console.log("parsedJsonData: ", parsedJsondata);
    //console.log("parsedJsonDataKeys: ", parsedJsonDataKeys);
    //console.log("transformedData: ", transformedData, "typeof transformedData: ", typeof transformedData);
    
    // jsonData : fs.readFile(경로, 인코딩)의 결과는 string
    // data: JSON.parse(jsonData)는 Object

    return NextResponse.json(resp);

  } catch(error) {
    return NextResponse.json({stateCode: 500, message: "Internal Server Error"});
  }
}

/* ===================== 데이터 형식 참고용 */
/* 
parsedJsonData:  {
  '5724': [
    { feature: '지면온도(°C)_3일_평균', importance: 0.511609 },
    { feature: '강수량(mm)_7일_합', importance: 0.135834 },
    { feature: '전기전도도_이전_30', importance: 0.084206 },
    { feature: '전기전도도_이전_14', importance: 0.056 },
    { feature: '수온', importance: 0.05046 },
    { feature: '전기전도도', importance: 0.038564 },
    { feature: '전기전도도_이전_3', importance: 0.018365 },
    { feature: '월', importance: 0.017856 },
    { feature: '전기전도도_이전_1', importance: 0.016999 },
    { feature: '월_사인', importance: 0.016894 },
    { feature: '전기전도도_이전_7', importance: 0.01363 },
    { feature: '월_코사인', importance: 0.01197 },
    { feature: '일', importance: 0.011556 },
    { feature: '기온(°C)_3일_평균', importance: 0.008957 },
    { feature: '수리전도도_강수_지표', importance: 0.00215 },
    { feature: '강수량(mm)_3일_합', importance: 0.002009 },
    { feature: '현지기압(hPa)', importance: 0.001371 },
    { feature: '기온(°C)', importance: 0.000258 },
    { feature: '순강수량', importance: 0.000236 },
    { feature: '풍속(m/s)', importance: 0.000123 },
    { feature: '상대습도', importance: 0.000104 },
    { feature: '잠재증발량', importance: 0.000099 },
    { feature: '기압_변화량', importance: 0.000094 },
    { feature: '습도(%)', importance: 0.000082 },
    { feature: '온도차', importance: 0.000078 },
    { feature: '지면온도(°C)', importance: 0.000074 },
    { feature: '강수량(mm)', importance: 0.000068 },
    { feature: '강수량_표고_상호', importance: 0.000054 },
    { feature: '강수량(mm)_이전_7', importance: 0.000048 },
    { feature: '시간', importance: 0.000048 },
    { feature: '시간_코사인', importance: 0.000044 },
    { feature: '전기전도도_변화량', importance: 0.000042 },
    { feature: '강수량(mm)_lag_3', importance: 0.000034 },
    { feature: '시간_사인', importance: 0.000033 },
    { feature: '강수량(mm)_이전_1', importance: 0.000024 },
    { feature: '강수량(mm)_이전_14', importance: 0.000015 },
    { feature: '강수량(mm)_이전_30', importance: 0.000012 }
  ],
  '9879': [...],
  .....
}
*/

/* 
FeatureImportancesArray [
  [ '0', { feature: '지면온도(°C)_3일_평균', importance: 0.511609 } ],
  [ '1', { feature: '강수량(mm)_7일_합', importance: 0.135834 } ],
  [ '2', { feature: '전기전도도_이전_30', importance: 0.084206 } ],
  [ '3', { feature: '전기전도도_이전_14', importance: 0.056 } ],
  [ '4', { feature: '수온', importance: 0.05046 } ],
  [ '5', { feature: '전기전도도', importance: 0.038564 } ],
  [ '6', { feature: '전기전도도_이전_3', importance: 0.018365 } ],
  [ '7', { feature: '월', importance: 0.017856 } ],
  [ '8', { feature: '전기전도도_이전_1', importance: 0.016999 } ],
  [ '9', { feature: '월_사인', importance: 0.016894 } ],
  [ '10', { feature: '전기전도도_이전_7', importance: 0.01363 } ],
  [ '11', { feature: '월_코사인', importance: 0.01197 } ],
  [ '12', { feature: '일', importance: 0.011556 } ],
  [ '13', { feature: '기온(°C)_3일_평균', importance: 0.008957 } ],
  [ '14', { feature: '수리전도도_강수_지표', importance: 0.00215 } ],
  [ '15', { feature: '강수량(mm)_3일_합', importance: 0.002009 } ],
  [ '16', { feature: '현지기압(hPa)', importance: 0.001371 } ],
  [ '17', { feature: '기온(°C)', importance: 0.000258 } ],
  [ '18', { feature: '순강수량', importance: 0.000236 } ],
  [ '19', { feature: '풍속(m/s)', importance: 0.000123 } ],
  [ '20', { feature: '상대습도', importance: 0.000104 } ],
  [ '21', { feature: '잠재증발량', importance: 0.000099 } ],
  [ '22', { feature: '기압_변화량', importance: 0.000094 } ],
  [ '23', { feature: '습도(%)', importance: 0.000082 } ],
  [ '24', { feature: '온도차', importance: 0.000078 } ],
  [ '25', { feature: '지면온도(°C)', importance: 0.000074 } ],
  [ '26', { feature: '강수량(mm)', importance: 0.000068 } ],
  [ '27', { feature: '강수량_표고_상호', importance: 0.000054 } ],
  [ '28', { feature: '강수량(mm)_이전_7', importance: 0.000048 } ],
  [ '29', { feature: '시간', importance: 0.000048 } ],
  [ '30', { feature: '시간_코사인', importance: 0.000044 } ],
  [ '31', { feature: '전기전도도_변화량', importance: 0.000042 } ],
  [ '32', { feature: '강수량(mm)_lag_3', importance: 0.000034 } ],
  [ '33', { feature: '시간_사인', importance: 0.000033 } ],
  [ '34', { feature: '강수량(mm)_이전_1', importance: 0.000024 } ],
  [ '35', { feature: '강수량(mm)_이전_14', importance: 0.000015 } ],
  [ '36', { feature: '강수량(mm)_이전_30', importance: 0.000012 } ]
]
transformedData:  {
  '5724': [
    [ '지면온도(°C)_3일_평균', 0.511609 ],
    [ '강수량(mm)_7일_합', 0.135834 ],
    [ '전기전도도_이전_30', 0.084206 ],
    [ '전기전도도_이전_14', 0.056 ],
    [ '수온', 0.05046 ],
    [ '전기전도도', 0.038564 ],
    [ '전기전도도_이전_3', 0.018365 ],
    [ '월', 0.017856 ],
    [ '전기전도도_이전_1', 0.016999 ],
    [ '월_사인', 0.016894 ],
    [ '전기전도도_이전_7', 0.01363 ],
    [ '월_코사인', 0.01197 ],
    [ '일', 0.011556 ],
    [ '기온(°C)_3일_평균', 0.008957 ],
    [ '수리전도도_강수_지표', 0.00215 ],
    [ '강수량(mm)_3일_합', 0.002009 ],
    [ '현지기압(hPa)', 0.001371 ],
    [ '기온(°C)', 0.000258 ],
    [ '순강수량', 0.000236 ],
    [ '풍속(m/s)', 0.000123 ],
    [ '상대습도', 0.000104 ],
    [ '잠재증발량', 0.000099 ],
    [ '기압_변화량', 0.000094 ],
    [ '습도(%)', 0.000082 ],
    [ '온도차', 0.000078 ],
    [ '지면온도(°C)', 0.000074 ],
    [ '강수량(mm)', 0.000068 ],
    [ '강수량_표고_상호', 0.000054 ],
    [ '강수량(mm)_이전_7', 0.000048 ],
    [ '시간', 0.000048 ],
    [ '시간_코사인', 0.000044 ],
    [ '전기전도도_변화량', 0.000042 ],
    [ '강수량(mm)_lag_3', 0.000034 ],
    [ '시간_사인', 0.000033 ],
    [ '강수량(mm)_이전_1', 0.000024 ],
    [ '강수량(mm)_이전_14', 0.000015 ],
    [ '강수량(mm)_이전_30', 0.000012 ]
  ],
  '9879': [
    [ '기온(°C)_3일_평균', 0.54923 ],
    [ '강수량(mm)_7일_합', 0.117293 ],
    [ '지면온도(°C)_3일_평균', 0.067993 ],
    [ '전기전도도_이전_30', 0.057628 ],
    [ '수온', 0.050293 ],
    [ '전기전도도', 0.040937 ],
    [ '전기전도도_이전_14', 0.025001 ],
    [ '전기전도도_이전_7', 0.021661 ],
    [ '전기전도도_이전_3', 0.012849 ],
    [ '수리전도도_강수_지표', 0.00988 ],
    [ '월_사인', 0.009754 ],
    [ '강수량(mm)_3일_합', 0.009505 ],
    [ '월', 0.008132 ],
    [ '일', 0.006805 ],
    [ '전기전도도_이전_1', 0.006706 ],
    [ '월_코사인', 0.002647 ],
    [ '현지기압(hPa)', 0.001507 ],
    [ '강수량(mm)_이전_3', 0.00032 ],
    [ '강수량(mm)_이전_1', 0.000207 ],
    [ '기압_변화량', 0.000188 ],
    [ '기온(°C)', 0.000176 ],
    [ '순강수량', 0.000169 ],
    [ '시간', 0.000107 ],
    [ '강수량(mm)_이전_7', 0.000103 ],
    [ '온도차', 0.000101 ],
    [ '상대습도', 0.000091 ],
    [ '시간_코사인', 0.000086 ],
    [ '습도(%)', 0.000084 ],
    [ '지면온도(°C)', 0.000082 ],
    [ '강수량(mm)', 0.000067 ],
    [ '강수량_표고_상호', 0.000064 ],
    [ '시간_사인', 0.000063 ],
    [ '잠재증발량', 0.000063 ],
    [ '풍속(m/s)', 0.000058 ],
    [ '전기전도도_변화량', 0.000056 ],
    [ '강수량(mm)_이전_14', 0.000049 ],
    [ '강수량(mm)_이전_30', 0.000042 ]
  ],
  '11746': [
    [ '지면온도(°C)_3일_평균', 0.690713 ],
    [ '강수량(mm)_7일_합', 0.090105 ],
    [ '수온', 0.071781 ],
    [ '월_코사인', 0.025158 ],
    [ '전기전도도_이전_14', 0.018676 ],
    [ '전기전도도_이전_7', 0.018061 ],
    [ '전기전도도_이전_30', 0.015799 ],
    [ '전기전도도', 0.012875 ],
    [ '전기전도도_이전_3', 0.012222 ],
    [ '일', 0.010903 ],
    [ '전기전도도_이전_1', 0.010754 ],
    [ '기온(°C)_3일_평균', 0.007471 ],
    [ '월', 0.006143 ],
    [ '월_사인', 0.0051 ],
    [ '강수량(mm)_3일_합', 0.001186 ],
    [ '현지기압(hPa)', 0.001138 ],
    [ '수리전도도_강수_지표', 0.001133 ],
    [ '기온(°C)', 0.000115 ],
    [ '상대습도', 0.000106 ],
    [ '습도(%)', 0.000105 ],
    [ '온도차', 0.000088 ],
    [ '지면온도(°C)', 0.000059 ],
    [ '전기전도도_변화량', 0.000049 ],
    [ '강수량(mm)_이전_7', 0.000044 ],
    [ '순강수량', 0.000034 ],
    [ '기압_변화량', 0.000033 ],
    [ '시간', 0.000025 ],
    [ '시간_코사인', 0.000021 ],
    [ '시간_사인', 0.000021 ],
    [ '풍속(m/s)', 0.000018 ],
    [ '잠재증발량', 0.000017 ],
    [ '강수량_표고_상호', 0.000013 ],
    [ '강수량(mm)', 0.00001 ],
    [ '강수량(mm)_이전_14', 0.000009 ],
    [ '강수량(mm)_이전_1', 0.000006 ],
    [ '강수량(mm)_이전_3', 0.000005 ],
    [ '강수량(mm)_이전_30', 0.000005 ]
  ],
  '11777': [
    [ '기온(°C)_3일_평균', 0.653299 ],
    [ '강수량(mm)_7일_합계', 0.093716 ],
    [ '수온', 0.040546 ],
    [ '전기전도도', 0.037015 ],
    [ '강수량(mm)_3일_합계', 0.023812 ],
    [ '전기전도도_이전_30', 0.021798 ],
    [ '전기전도도_이전_14', 0.021516 ],
    [ '수리전도도_강수_지표', 0.020437 ],
    [ '지면온도(°C)_3일_평균', 0.01859 ],
    [ '전기전도도_이전_3', 0.016044 ],
    [ '일', 0.012058 ],
    [ '전기전도도_이전_7', 0.010695 ],
    [ '전기전도도_이전_1', 0.007376 ],
    [ '월_코사인', 0.007168 ],
    [ '현지기압(hPa)', 0.00592 ],
    [ '월', 0.004041 ],
    [ '월_사인', 0.002273 ],
    [ '기온(°C)', 0.000454 ],
    [ '순강수량', 0.000349 ],
    [ '온도차', 0.000259 ],
    [ '지면온도(°C)', 0.000245 ],
    [ '강수량(mm)_이전_1', 0.000243 ],
    [ '습도(%)', 0.000208 ],
    [ '상대습도', 0.000195 ],
    [ '전기전도도_변화량', 0.000186 ],
    [ '풍속(m/s)', 0.000166 ],
    [ '시간', 0.000164 ],
    [ '시간_코사인', 0.000153 ],
    [ '기압_변화량', 0.000147 ],
    [ '강수량(mm)_이전_7', 0.000139 ],
    [ '잠재증발량', 0.000131 ],
    [ '시간_사인', 0.000128 ],
    [ '강수량_표고_상호', 0.000128 ],
    [ '강수량(mm)', 0.000128 ],
    [ '강수량(mm)_이전_3', 0.000126 ],
    [ '강수량(mm)_이전_14', 0.000091 ],
    [ '강수량(mm)_이전_30', 0.000058 ]
  ],
  '65056': [
    [ '지면온도(°C)_3일_평균', 0.546296 ],
    [ '월_코사인', 0.09047 ],
    [ '수온', 0.090001 ],
    [ '기온(°C)_3일_평균', 0.076629 ],
    [ '전기전도도_이전_30', 0.051194 ],
    [ '강수량(mm)_7일_합', 0.028438 ],
    [ '전기전도도_이전_14', 0.025804 ],
    [ '일', 0.021739 ],
    [ '전기전도도', 0.013564 ],
    [ '전기전도도_이전_7', 0.010622 ],
    [ '수리전도도_강수_지표', 0.009565 ],
    [ '강수량(mm)_3일_합', 0.008416 ],
    [ '월', 0.006758 ],
    [ '전기전도도_이전_3', 0.00472 ],
    [ '전기전도도_이전_1', 0.004612 ],
    [ '월_사인', 0.004155 ],
    [ '현지기압(hPa)', 0.004012 ],
    [ '시간', 0.000478 ],
    [ '시간_코사인', 0.000292 ],
    [ '기온(°C)', 0.000276 ],
    [ '온도차', 0.000194 ],
    [ '지면온도(°C)', 0.000185 ],
    [ '상대습도', 0.000182 ],
    [ '습도(%)', 0.000181 ],
    [ '풍속(m/s)', 0.000171 ],
    [ '순강수량', 0.00017 ],
    [ '기압_변화량', 0.000151 ],
    [ '시간_사인', 0.000143 ],
    [ '강수량(mm)_이전_1', 0.000136 ],
    [ '잠재증발량', 0.000127 ],
    [ '강수량(mm)_이전_3', 0.000065 ],
    [ '강수량(mm)_이전_7', 0.000059 ],
    [ '강수량(mm)', 0.000055 ],
    [ '강수량_표고_상호', 0.000041 ],
    [ '전기전도도_변화량', 0.000037 ],
    [ '강수량(mm)_이전_14', 0.000031 ],
    [ '강수량(mm)_이전_30', 0.000027 ]
  ],
  '73515': [
    [ '기온(°C)_3일_평균', 0.65467 ],
    [ '수온', 0.096962 ],
    [ '강수량(mm)_7일_합', 0.088877 ],
    [ '월', 0.035278 ],
    [ '월_사인', 0.028355 ],
    [ '전기전도도', 0.025545 ],
    [ '지면온도(°C)_3일_평균', 0.014822 ],
    [ '전기전도도_이전_30', 0.013741 ],
    [ '일', 0.009624 ],
    [ '전기전도도_이전_14', 0.006926 ],
    [ '전기전도도_이전_7', 0.006207 ],
    [ '월_코사인', 0.003934 ],
    [ '수리전도도_강수_지표', 0.003695 ],
    [ '강수량(mm)_3일_합', 0.003602 ],
    [ '전기전도도_이전_3', 0.002581 ],
    [ '전기전도도_이전_1', 0.001942 ],
    [ '현지기압(hPa)', 0.001449 ],
    [ '순강수량', 0.000182 ],
    [ '습도(%)', 0.000175 ],
    [ '기온(°C)', 0.000155 ],
    [ '상대습도', 0.000151 ],
    [ '시간_사인', 0.000134 ],
    [ '시간', 0.000127 ],
    [ '기압_변화량', 0.000098 ],
    [ '온도차', 0.00009 ],
    [ '시간_코사인', 0.000088 ],
    [ '풍속(m/s)', 0.000077 ],
    [ '전기전도도_변화량', 0.000074 ],
    [ '지면온도(°C)', 0.000071 ],
    [ '잠재증발량', 0.000066 ],
    [ '강수량(mm)_이전_3', 0.000063 ],
    [ '강수량(mm)_이전_1', 0.00006 ],
    [ '강수량_표고_상호', 0.000052 ],
    [ '강수량(mm)', 0.000046 ],
    [ '강수량(mm)_이전_7', 0.000037 ],
    [ '강수량(mm)_이전_30', 0.000029 ],
    [ '강수량(mm)_이전_14', 0.000018 ]
  ],
  '73538': [
    [ '지면온도(°C)_3일_평균', 0.458616 ],
    [ '강수량(mm)_7일_합', 0.13407 ],
    [ '기온(°C)_3일_평균', 0.05767 ],
    [ '수온', 0.052758 ],
    [ '전기전도도_이전_30', 0.050875 ],
    [ '전기전도도', 0.049055 ],
    [ '전기전도도_이전_14', 0.045578 ],
    [ '전기전도도_이전_7', 0.034866 ],
    [ '월_사인', 0.03216 ],
    [ '월', 0.01881 ],
    [ '전기전도도_이전_3', 0.016835 ],
    [ '일', 0.016345 ],
    [ '전기전도도_이전_1', 0.011983 ],
    [ '월_코사인', 0.011469 ],
    [ '강수량(mm)_3일_합', 0.002673 ],
    [ '수리전도도_강수_지표', 0.002628 ],
    [ '현지기압(hPa)', 0.001677 ],
    [ '전기전도도_변화량', 0.000392 ],
    [ '기온(°C)', 0.000218 ],
    [ '기압_변화량', 0.000152 ],
    [ '순강수량', 0.000148 ],
    [ '온도차', 0.000135 ],
    [ '습도(%)', 0.000116 ],
    [ '상대습도', 0.00011 ],
    [ '풍속(m/s)', 0.000104 ],
    [ '잠재증발량', 0.000075 ],
    [ '지면온도(°C)', 0.000064 ],
    [ '시간', 0.000062 ],
    [ '강수량_표고_상호', 0.000057 ],
    [ '강수량(mm)_이전_7', 0.000055 ],
    [ '강수량(mm)', 0.000051 ],
    [ '시간_코사인', 0.000048 ],
    [ '시간_사인', 0.000047 ],
    [ '강수량(mm)_이전_1', 0.000037 ],
    [ '강수량(mm)_이전_3', 0.000033 ],
    [ '강수량(mm)_이전_30', 0.00002 ],
    [ '강수량(mm)_이전_14', 0.00001 ]
  ],
  '82031': [
    [ '월_코사인', 0.440279 ],
    [ '강수량(mm)_7일_합', 0.169535 ],
    [ '수온', 0.069678 ],
    [ '전기전도도', 0.064792 ],
    [ '기온(°C)_3일_평균', 0.056014 ],
    [ '전기전도도_이전_30', 0.025174 ],
    [ '강수량(mm)_3일_합', 0.024905 ],
    [ '월', 0.023935 ],
    [ '일', 0.023093 ],
    [ '수리전도도_강수_지표', 0.02064 ],
    [ '전기전도도_이전_3', 0.018381 ],
    [ '전기전도도_이전_14', 0.016318 ],
    [ '지면온도(°C)_3일_평균', 0.013876 ],
    [ '전기전도도_이전_7', 0.013062 ],
    [ '전기전도도_이전_1', 0.007044 ],
    [ '현지기압(hPa)', 0.004489 ],
    [ '월_사인', 0.003797 ],
    [ '기온(°C)', 0.00079 ],
    [ '온도차', 0.000703 ],
    [ '지면온도(°C)', 0.000531 ],
    [ '시간_코사인', 0.000332 ],
    [ '순강수량', 0.000299 ],
    [ '상대습도', 0.000286 ],
    [ '시간', 0.000246 ],
    [ '기압_변화량', 0.000219 ],
    [ '습도(%)', 0.000212 ],
    [ '잠재증발량', 0.000171 ],
    [ '강수량(mm)_이전_1', 0.000166 ],
    [ '강수량(mm)_이전_3', 0.000166 ],
    [ '풍속(m/s)', 0.000164 ],
    [ '시간_사인', 0.000157 ],
    [ '강수량(mm)_이전_7', 0.000133 ],
    [ '강수량(mm)_이전_30', 0.0001 ],
    [ '강수량_표고_상호', 0.000098 ],
    [ '강수량(mm)', 0.000093 ],
    [ '강수량(mm)_이전_14', 0.00008 ],
    [ '전기전도도_변화량', 0.00004 ]
  ],
  '82049': [
    [ '기온(°C)_3일_평균', 0.457103 ],
    [ '강수량(mm)_7일_합', 0.192854 ],
    [ '수온', 0.151815 ],
    [ '전기전도도', 0.057771 ],
    [ '전기전도도_이전_30', 0.03477 ],
    [ '일', 0.014766 ],
    [ '전기전도도_이전_1', 0.013869 ],
    [ '지면온도(°C)_3일_평균', 0.011303 ],
    [ '월_코사인', 0.010781 ],
    [ '전기전도도_이전_14', 0.010053 ],
    [ '전기전도도_이전_7', 0.009812 ],
    [ '월_사인', 0.00646 ],
    [ '수리전도도_강수_지표', 0.005446 ],
    [ '강수량(mm)_3일_합', 0.005425 ],
    [ '전기전도도_이전_3', 0.005374 ],
    [ '월', 0.004917 ],
    [ '현지기압(hPa)', 0.004001 ],
    [ '기온(°C)', 0.000395 ],
    [ '순강수량', 0.000348 ],
    [ '강수량(mm)_이전_3', 0.000306 ],
    [ '상대습도', 0.000191 ],
    [ '시간', 0.00019 ],
    [ '강수량(mm)_이전_7', 0.000188 ],
    [ '풍속(m/s)', 0.000183 ],
    [ '강수량(mm)_이전_1', 0.000182 ],
    [ '습도(%)', 0.000178 ],
    [ '강수량_표고_상호', 0.000168 ],
    [ '온도차', 0.000161 ],
    [ '강수량(mm)', 0.00016 ],
    [ '지면온도(°C)', 0.000152 ],
    [ '시간_사인', 0.000129 ],
    [ '기압_변화량', 0.000125 ],
    [ '강수량(mm)_이전_14', 0.000124 ],
    [ '시간_코사인', 0.000121 ],
    [ '잠재증발량', 0.000086 ],
    [ '강수량(mm)_이전_30', 0.000074 ],
    [ '전기전도도_변화량', 0.000018 ]
  ],
  '84020': [
    [ '수온', 0.22526 ],
    [ '전기전도도_이전_30', 0.197813 ],
    [ '강수량(mm)_7일_합', 0.163852 ],
    [ '전기전도도_이전_14', 0.098434 ],
    [ '월_사인', 0.062419 ],
    [ '전기전도도', 0.055366 ],
    [ '월', 0.045126 ],
    [ '전기전도도_이전_7', 0.031927 ],
    [ '월_코사인', 0.028864 ],
    [ '전기전도도_이전_3', 0.021865 ],
    [ '기온(°C)_3일_평균', 0.018538 ],
    [ '지면온도(°C)_3일_평균', 0.018151 ],
    [ '전기전도도_이전_1', 0.01272 ],
    [ '일', 0.010813 ],
    [ '강수량(mm)_3일_합', 0.00299 ],
    [ '수리전도도_강수_지표', 0.002889 ],
    [ '현지기압(hPa)', 0.001125 ],
    [ '전기전도도_변화량', 0.000317 ],
    [ '기온(°C)', 0.000235 ],
    [ '기압_변화량', 0.000174 ],
    [ '온도차', 0.000142 ],
    [ '지면온도(°C)', 0.000136 ],
    [ '시간', 0.000108 ],
    [ '상대습도', 0.000089 ],
    [ '순강수량', 0.000089 ],
    [ '습도(%)', 0.000083 ],
    [ '시간_코사인', 0.000078 ],
    [ '시간_사인', 0.000073 ],
    [ '잠재증발량', 0.00006 ],
    [ '풍속(m/s)', 0.000059 ],
    [ '강수량(mm)_이전_7', 0.000053 ],
    [ '강수량_표고_상호', 0.000033 ],
    [ '강수량(mm)_이전_14', 0.000033 ],
    [ '강수량(mm)', 0.000033 ],
    [ '강수량(mm)_이전_30', 0.000024 ],
    [ '강수량(mm)_이전_1', 0.000018 ],
    [ '강수량(mm)_이전_3', 0.000013 ]
  ],
  '514307': [
    [ '기온(°C)_3일_평균', 0.522536 ],
    [ '강수량(mm)_7일_합', 0.141903 ],
    [ '수온', 0.053206 ],
    [ '전기전도도_이전_30', 0.038952 ],
    [ '전기전도도', 0.038149 ],
    [ '월', 0.032238 ],
    [ '전기전도도_이전_14', 0.023355 ],
    [ '전기전도도_이전_3', 0.022447 ],
    [ '강수량(mm)_3일_합', 0.021463 ],
    [ '수리전도도_강수_지표', 0.020703 ],
    [ '전기전도도_이전_7', 0.019928 ],
    [ '일', 0.015296 ],
    [ '지면온도(°C)_3일_평균', 0.013967 ],
    [ '전기전도도_이전_1', 0.011407 ],
    [ '월_사인', 0.007366 ],
    [ '현지기압(hPa)', 0.006424 ],
    [ '월_코사인', 0.005072 ],
    [ '강수량(mm)_이전_1', 0.000842 ],
    [ '기온(°C)', 0.000534 ],
    [ '기압_변화량', 0.00036 ],
    [ '지면온도(°C)', 0.000358 ],
    [ '순강수량', 0.000319 ],
    [ '온도차', 0.000306 ],
    [ '풍속(m/s)', 0.000305 ],
    [ '시간', 0.000301 ],
    [ '상대습도', 0.000283 ],
    [ '습도(%)', 0.000272 ],
    [ '시간_코사인', 0.000249 ],
    [ '잠재증발량', 0.000246 ],
    [ '시간_사인', 0.000244 ],
    [ '전기전도도_변화량', 0.000224 ],
    [ '강수량(mm)_이전_3', 0.000159 ],
    [ '강수량(mm)_이전_7', 0.000147 ],
    [ '강수량(mm)_이전_30', 0.000135 ],
    [ '강수량_표고_상호', 0.000121 ],
    [ '강수량(mm)', 0.000117 ],
    [ '강수량(mm)_이전_14', 0.000069 ]
  ],
  '514310': [
    [ '지면온도(°C)_3일_평균', 0.801236 ],
    [ '수리전도도_강수_지표', 0.023661 ],
    [ '강수량(mm)_7일_합', 0.021933 ],
    [ '강수량(mm)_3일_합', 0.020833 ],
    [ '수온', 0.020252 ],
    [ '일', 0.018298 ],
    [ '전기전도도_이전_30', 0.017813 ],
    [ '전기전도도_이전_7', 0.014904 ],
    [ '전기전도도', 0.012722 ],
    [ '전기전도도_이전_14', 0.009396 ],
    [ '전기전도도_이전_1', 0.006718 ],
    [ '월', 0.006293 ],
    [ '전기전도도_이전_3', 0.005149 ],
    [ '월_사인', 0.004922 ],
    [ '기온(°C)_3일_평균', 0.004912 ],
    [ '월_코사인', 0.004531 ],
    [ '현지기압(hPa)', 0.00282 ],
    [ '강수량(mm)_이전_3', 0.000495 ],
    [ '기온(°C)', 0.000366 ],
    [ '강수량(mm)_이전_1', 0.000304 ],
    [ '강수량(mm)_이전_7', 0.000264 ],
    [ '순강수량', 0.000213 ],
    [ '온도차', 0.000208 ],
    [ '강수량(mm)_이전_14', 0.000205 ],
    [ '시간', 0.00019 ],
    [ '지면온도(°C)', 0.000169 ],
    [ '풍속(m/s)', 0.000158 ],
    [ '시간_코사인', 0.000154 ],
    [ '상대습도', 0.000145 ],
    [ '시간_사인', 0.000136 ],
    [ '습도(%)', 0.000131 ],
    [ '잠재증발량', 0.00012 ],
    [ '기압_변화량', 0.000113 ],
    [ '강수량(mm)_이전_30', 0.000067 ],
    [ '강수량_표고_상호', 0.000066 ],
    [ '강수량(mm)', 0.000054 ],
    [ '전기전도도_변화량', 0.000047 ]
  ]
}
*/